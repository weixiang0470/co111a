# **Credit**
- Some of the test output answer refers from Nand2tetris ".out" file, ex: `And16_test.v`(mine) from `And16.out`(nand2tetris)
- RAM4K,RAM8K,RAM16K,ROM32K refer from [CCC](https://gitlab.com/cccnqu111/co/-/tree/master/verilog/02-nand2tetris)
- Makefile and 05/Computer_test.v refers from [CCC](https://gitlab.com/cccnqu111/co/-/blob/master/verilog/02-nand2tetris/computer_test.v)
- Everything else was done by myself 100% with the PPT at [nand2tetris](https://www.nand2tetris.org/course)

# **心得**
- 在修這堂課前我對計算機結構的想像是比較偏向理論類的，而且感覺就非常難學。但前面幾堂課的時候老師開始教一些基礎的邏輯閘的時候我其實覺得蠻簡單的，因為之前大一的時候就已經修過數位邏輯了。
- 但當到了第三章時就開始深入計算機內部的邏輯與運作方式，一開始確實有點搞不懂但稍微研究了一下後發現其實就是把一些判斷和選擇通過前面幾章的邏輯電路來實現。雖然說得簡單但其實蠻複雜的，如果沒有前人的書籍我可能想一輩子也想不出來吧。。。
- 到了第四章後讓我對電腦的運作方式有更加的瞭解，之前都不太清楚電腦是怎麼做加減乘除的運算。如要做`6乘6`，寫程式就直接用`6*6`就結束了，但對電腦的硬體來說卻需要用一些其他方法，像是用記憶體重複對某個位置的值做加法，`6*6`的話就要加6次6。
- 當然還有如何改變螢幕的顯示和讀取鍵盤的輸入，像nand2tetris的螢幕就是連結記憶體內第`16384～24575`的位置，只要對這些位置做改變那螢幕的顯示就會改變。而鍵盤則是記憶體內的第`24576`的位置，如果鍵盤有輸入（點擊事件）時，這個位置的值就會改變那我們只要讀取這個位置的值就可以知道使用者是按那一個鍵了。
- 而到了第五章後，我認為最最複雜的電路就出現了。其中記憶體是算簡單的只是要用幾個“RAM”和內建的“Screen”和“Keyboard”然後稍微判斷哪些位置要給誰用就可以完成了。而CPU一開始則是完全看都看不懂，但還好有老師的解釋配合nand2tetris的PPT才慢慢看得懂它在幹嘛。但也是通過這章的習題才更加瞭解上一章的內容是如何讓電腦內的值去改變的，它必須一直判斷這是什麼類型的指令然後在將指令解析然後輸入給不同的閘，如A指令就直接輸入A暫存器（簡單好懂）。像是C指令的話就要做蠻多的判斷然後在輸入進不同的閘，因為有些C指令會改變A暫存器的值有些會影響ALU的輸出然後改變D暫存器內的值，當然也會影響到PC，Memory要不要寫入等等。
- nand2tetris都結束後其實對於計算機內部的結構都稍微有一些概念了。但當我以為這學期的課程大部分都結束了可以開始浪了時我才發現更難的來了，這時開始進入組合語言了（惡夢！）。一開始是真的都看不懂，每一個指令都需要老師來講解，而且真的很不好記特別是不同的計算機還會稍微不同（x86，riscv），後來才慢慢開始看懂的。
- 之後就開始一邊組合語言一邊開始做期末作業（Verilog），剛剛開始時完全沒接觸過Verilog也不會，好在網上有很多教學還可以參考老師的範例，這才勉強渡過入門期。而到後來越寫越多後其實感覺不會很難（可能是我只是把之前的作業重寫的關係吧），只是在寫測試程式的時候很累，因為要寫很多而且我還對輸出的結果做美化。在寫測試程式的過程中也讓我對Verilog更加熟悉，因為其中遇到了很多困難，如怎麼讓它幫我檢查是否正確，怎麼顯示會更加好看等等。可以說寫Verilog時我寫測試程式的時間佔了7成，寫邏輯閘的時間才只有3成，第五章除外，因為第五章那裡的判斷邏輯比較複雜而且nand2tetris的用法和Verilog稍有不同所以寫的時候要做一些改變（就是重寫的意思），但好在基本判斷邏輯是一樣的。只是最後用老師Computer的測試程式時出了一點問題，在老師的幫助下至少找到方向去看哪裡有問題，最後發現是我的ALU的輸入那裡（zx,nx,zy,ny,f,no）我把C1輸入給這些全部沒有對應到C2，C3等閘。最後完美解決！
- 最後覺得這門課學到了很多不同的東西，但覺得有點可惜的是之前老師有稍微提到一般這種課程會碰比較多數學，然後學怎麼算處理器的消耗之類的，其實我蠻希望老師也可以教這部分的內容。雖然我也知道網上一定有很多這部分的教學但有老師來教應該會更加有方向和步驟，也可以節省很多的時間。最後還是謝謝老師的耐心教導～～～